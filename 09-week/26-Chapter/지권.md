# ES6 함수의 추가 기능

## 26.1 함수의 구분

**ES6 이전의 모든 함수는 일반 함수로서 호출할 수 있는 것은 물론 생성자 함수로서 호출할 수 있다.**

> **callable과 constructor/non-constructor**
> 함수 객체를 `callable`이라 하며, 인스턴스를 생성할 수 있는 함수 객체를 `constructor`, 인스턴스를 생성할 수 없는 함수 객체를 `non-constructor`라고 부른다.

ES6에서는 함수를 사용 목적에 따라 세 가지 종류로 명확히 구분했다.

| ES6 함수의 구분 | constructor | prototype | super | arguments |
| --------------- | ----------- | --------- | ----- | --------- |
| 일반 함수       | O           | O         | X     | O         |
| 메서드          | X           | X         | O     | O         |
| 화살표 함수     | X           | X         | X     | X         |

## 26.2 메서드

**ES6 사양에서 메서드는 메서드 축약 표현으로 정의된 함수만을 의미한다.**

**ES6 사양에서 정의한 메서드는 인스턴스를 생성할 수 없는 non-constructor다.**

## 26.3 화살표 함수

화살표 함수는 function 키워드 대신 화살표를 사용하여 기존의 함수 정의 방식보다 간략하게 정의할 수 있다.

### 26.3.1 화살표 함수 정의

**함수 정의**

화살표 함수는 함수 선언문으로 정의할 수 없고 함수 표현식으로 정의해야 한다.

**매개변수 선언**
매개변수가 여러 개인 경우 소괄호 `()`안에 매개변수를 선언한다.

```javascript
const arrow = (x, y) => {};
```

매개변수가 하나인 경우 소괄호 `()`를 생략할 수 있다.

```javascript
const arrow = (x) => {};
```

### 26.3.2 화살표 함수와 일반 함수의 차이

1. 화살표 함수는 인스턴스를 생성할 수 없는 `non-constructor`다.
2. 중복된 매개변수 이름을 선언할 수 없다.
3. 화살표 함수는 함수 자체의 `this`, `arguments`, `super`, `new.target` 바인딩을 갖지 않는다.

## 26.4 Rest 파라미터

### 26.4.1 기본 문법

Rest 파라미터는 매개변수 이름 앞에 세 개의 점 `...`을 붙여서 정의한 매개변수를 의미한다. **Rest 파라미터는 함수에 전달된 인수들의 목록을 배열로 전달받는다.**

```javascript
function foo(...rest) {
  // 매개변수 rest는 인수들의 목록을 배열로 전달받는 Rest 파라미터다.
  console.log(rest); // [ 1, 2, 3, 4, 5 ]
}

foo(1, 2, 3, 4, 5);
```

### 26.4.2 Rest 파라미터와 arguments 객체

`arguments` 객체는 함수 호출 시 전달된 인수들의 정보를 담고 있는 순회 가능한 유사 배열 객체이며, 함수 내부에서 지역 변수처럼 사용할 수 있다.

```javascript
// 매개변수의 개수를 사전에 알 수 없는 가변 인자 함수
function sum() {
  // 가변 인자 함수는 arguments 객체를 통해 인수를 전달받는다.
  console.log(arguments);
}

sum(1, 2); // {length: 2, '0': 1, '1': 2}
```

하지만 `arguments` 객체는 배열이 아닌 유사 배열 객체이므로 배열 메서드를 사용하려면 `Function.prototype.call`이나 `Function.prototype.apply` 메서드를 사용해 `arguments` 객체를 배열로 반환해야 하는 번거로움이 있다.

ES6에서는 rest 파라미터를 사용하여 가변 인자 함수의 인수 목록을 배열로 직접 전달받을 수 있다. 이를 통해 유사 배열 객체인 `arguments` 객체를 배열로 변환하는 번거로움을 피할 수 있다.

## 26.5 매개변수 기본값

함수를 호출할 때 매개변수의 개수만큼 인수를 전달하는 것이 바람직하지만 그렇지 않은 경우에도 에러가 발생하지 않는다. 이는 자바스크립트 엔진이 매개변수의 개수와 인수의 개수를 체크하지 않기 때문이다.
인수가 전달되지 않은 매개변수의 값은 `undefined`다. 이를 방치하면 의도치 않은 결과가 나올 수 있다.

```javascript
function sum(x, y) {
  return x + y;
}

console.log(sum(1)); // NaN
```

따라서 매개변수에 인수가 전달되었는지 확인하여 인수가 전달되지 않은 경우 매개변수에 기본값을 할당할 필요가 있다.

```javascript
function sum(x = 0, y = 0) {
  return x + y;
}

console.log(sum(1, 2)); // 3
console.log(sum(1)); // 1
```

Rest 파라미터에는 기본값을 지정할 수 없다.
